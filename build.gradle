plugins {
    id 'java'
    id 'groovy'
    id 'com.github.johnrengelman.shadow' version '5.1.0'
    id 'com.bmuschko.nexus' version '2.3.1'
//    id 'io.codearte.nexus-staging' version '0.21.1'
}

group 'xxl.mathematica'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

repositories {
    jcenter()
    mavenCentral()
}

dependencies {

    implementation 'com.google.code.findbugs:jsr305:3.0.2'

    implementation "org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.2.0"

    implementation "io.reactivex.rxjava2:rxjava:2.2.12"

    implementation 'org.apache.commons:commons-lang3:3.9'

    implementation 'org.apache.commons:commons-text:1.7'

    implementation 'commons-io:commons-io:2.6'

    implementation 'commons-cli:commons-cli:1.4'

    implementation 'org.osgeo:proj4j:0.1.0'

    implementation 'com.google.code.gson:gson:2.8.6'

    implementation 'com.squareup.okhttp3:okhttp:3.12.6'

    implementation 'org.apache.httpcomponents:httpclient:4.5.10'

//    implementation 'com.sun.mail:jakarta.mail:1.6.4'
    implementation 'org.apache.commons:commons-email:1.5'

    implementation 'org.apache.poi:poi-ooxml:4.1.1'

    implementation 'net.sourceforge.jexcelapi:jxl:2.6.12'

//    implementation 'com.github.wxpay:wxpay-sdk:latest.integration'

    implementation 'org.slf4j:slf4j-api:1.7.29'
    implementation 'ch.qos.logback:logback-classic:1.2.3'

    implementation 'com.relops:snowflake:1.1'

    implementation 'com.google.zxing:core:3.4.0'
    implementation 'com.google.zxing:javase:3.4.0'

    implementation 'com.alipay.sdk:alipay-sdk-java:4.8.10.ALL'

    testImplementation 'org.codehaus.groovy:groovy-all:2.5.7'

    testImplementation group: 'junit', name: 'junit', version: '4.12'
}

tasks.withType(JavaCompile) {
    options.encoding = "UTF-8"
}

shadowJar {
    manifest {
        attributes(['Main-Class': 'xxl.xjwt.XJWT'])
    }
}

nexus {
    sign = true
    repositoryUrl = 'http://localhost:8081/repository/maven-releases/'
    snapshotRepositoryUrl = 'http://localhost:8081/repository/maven-snapshots/'
}